# 變數名稱的力量
本章討論如何為變數、物件、基本資料命名，如果是要幫子程式命名去看第7章。
好的變數名稱應該要可讀、容易記憶、且能夠自我表達。命名應該要準確的描述該變數是要做什麼、不需要特別解釋就能理解，但是會面臨可能會使變數過長的問題。
書中舉例currentDate、todayDate跟Date以命名名稱來說都不錯，但是currentDate會不知道current指甚麼; Date也不好，因為這個Date可能不是代表所有的日期，而是特定日期，所以會有誤會之嫌。
<br/>

### 以問題為導向
-----
一個好的命名名稱通常反映的是問題(What)而不是解決方案(How)，例如表示一個設備狀態的位元欄位，用bitFlag就比printerReady更具特徵; 或是財務軟體中calcVal就比sum更適合。
<br/>

### 最適當的名稱長度
----
根據書中Reference的研究，當變數名稱平均長度在10 ~ 16 字元時，除錯所需花費的心力是最小的。這邊不是只說你要把變數名稱固定在這個長度，而是說當你的變數名稱小於這些長度時就需要注意你的變數名稱能否完整清楚的表達。
<br/>
### 作用範圍對變數名稱的影響
---
短的變數不一定是不好的，而是要看它的作用範圍及表達的意思，例如在一個回圈內使用 i 作為變數名稱，可以清楚的知道這個變數只是用來當作迴圈計數器，離開迴圈就用不到，這個使用方法就OK。核心理念就是名稱跟作用範圍要互相呼應。較長的名稱適用於很少用到的變數或是全域變數，而短名稱則用在區域變數或是迴圈計數器。
#### 對全域命名空間中的名稱加修飾詞
如果在全域命名空間中定義了一寫變數，最好是使用namespace區隔出來，避免命名產生衝突。如果使用的語言沒有namespace功能，則可以在變數名稱增加額外的辨識字盡量避免衝突，例如ecEmployee、acEmployee。
<br/>
#### 變數名稱中的計算值修飾詞

語言中有很多表示計算結果的修飾詞，像是min、max、sum等等，這些詞應該要放在變數的最後面。變數中愈前面的字重要度愈高，因此放在前面就可以先被閱讀到。
<br/>

## 為特定型別的資料命名
這節是說要特別針對像是為迴圈、狀態、臨時的、布林等等變數命名時的特殊規則。

### 迴圈
只在迴圈內使用時可以用i、j、k等等，但是如果要在迴圈外使用則需要更有意義的命名，例如recordCount等等。若迴圈的長度長到會使讀者忘記迴圈變數的意義的話也改用有意義的命名。

### 狀態
為狀態變數取一個比flag更好的名稱，例如 statusFlag = 0x80，讀者完全不懂0x80是甚麼意思，如果能改成statusFlag  = CONTROL_FLAG，這樣自會比0x80好懂很多。綜合使用時可以先為狀態數值給一個變數名稱，在為他們建立一個enum的表格，直接將命名完的變數名稱放入使用。

### 臨時變數
就算是臨時變數，他也是會在其他地方被使用，因此如果沒有表達清楚的話也是不好的命名方式，因此在為臨時變數命名時也應要取有意義的名稱。

### 布林變數
布林變數隱含的是真/假的意義，像是Done、Success是不錯的名稱，因為不是真就是假。在使用時應使用正面的用詞，因為使用否定用詞時會較難閱讀，像是notReady等等。

### 列舉(enum)
在列舉型態前面加上群組前綴飾不錯的方法，像是:
```C++
enum Color{
 Color_Blue,
 Color_Red,
 Color_Pink
}
```
但是如果使用的語言在使用前綴時會使用列舉名稱時就不太需要這樣，像是Color.Color_Blue，這種寫法就可以不需要寫群組前綴。
<br/>
## 命名規則的力量
有些人認為規則會限制程式設計師的創造性，但適當的規則能夠有以下好處:

- 在命名時能夠通過全域的規定去命名，而不用花額外力氣去想要如何做出局部命名。
- 能夠在專案之間傳遞資訊，讓程式設計師在跨專案時面對沒看過的變數也能更有自信地知道變數的功能
- 有助於在新專案中快速地學習程式碼
- 有助於減少名稱增生，指的是同樣功能的變數但有多個不同名稱。
- 強調變數之間的關係，像是employeeAddress、employeePhone等等。

任何規則都好於完全沒有規則，規則能增加程式碼的結構，減少額外要考慮的事情。

### 何時採用命名規則
沒有強制規定，但是在以下狀況採用時很有幫助:

- 多個程式設計師合作開發專案時 
- 當計畫把專案轉交給其它人維護時
- 當其他人會來Review你的程式碼時
- 當程式碼規模太大，無法在腦中同時了解全貌時
- 當開發時程太長，導致可能會忘記某些東西時
- 當不常見或是專業術語，希望在程式碼中使用標準術語時
### 正式程度
在微小專案，這些嚴格的命名規則可能不需要，但是在大型專案中遵守這些規則能帶來巨大好處。

## 非正式命名規則

### 與語言無關的命名規則之指導原則
---
#### 區分變數名稱及子程式名稱

變數名稱以小寫開頭，子程式以大寫開頭，例如variableName及RoutineTime()
<br/>
#### 區分類別和物件
這個問題有很多解法，主要有透過下列方法:
1. 大小寫字母區分(Widget widget)
2. 類別全大寫區分(WIDGET widget)
3. 類別加入前綴(類別前加入t_)
4. 變數加入前綴(變數前加入a)
5. 採用更明確的方式表達變數(widget employeeWidget)。

這些方法中有些問題，方法一在非case-sensitive中無法使用；方法二在某些語言的歷史因素中全大寫幾乎是用來代表常數；方法三沒什麼問題，主要只是主觀審美因素；方法四可以做為方法三的備案，但是這樣改會需要去改每個實例的名稱而非僅修改類別名稱；方法五在思考變數名稱時會遇到比較多困難。
<br/>
#### 識別全域變數
在全域變數前增加像是g_的前綴
<br/>
#### 識別成員變數
用特定前綴表示成員變數，而非區域或是全域變數，例如m_。
<br/>
#### 識別型別宣告
用全大寫是常見的做法，但是全大寫可能會與前置處理常數混淆，因此加上前綴t_也是不錯的做法。
<br/>
#### 識別具名常數(Constant)
加上c_不錯或是使用全大寫。
<br/>
#### 識別列舉型別元素
加入適當的前綴，例如型別的名稱。
<br/>

#### 識別語言中非強制只能輸入的參數
例如加入const前綴，讓在寫程式時意識到這個變數不應被修改。
<br/>

#### 格式化命名以提高可讀性
依照各團隊制定的規則取名
<br/>
### 與語言相關的命名規則的指導原則
例如C中的命名規則為
- c、ch：字元變數 
- i、j：索引
- n：某物的數量
- p： 指標
- s：字串
- 全大寫：前置處理巨集 

C++的命名規則為
- i、j：索引
- p： 指標
- 全大寫：常數、前置處理巨集、typedef
- 首字小寫後面單字首字大寫：變數


### 命名規則範例
書中列出了C、C++、Java的範例，詳細看書中表格



<!--stackedit_data:
eyJoaXN0b3J5IjpbNjU4NTA1NTA5LC0xNjQ4MDEyMzUyLC0xNj
AzODQ0ODQ5LC01MzQzNzI4MTcsLTE5NTU5ODUyMzMsLTIwOTcx
Mzk4NDFdfQ==
-->