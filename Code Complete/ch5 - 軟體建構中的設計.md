# 軟體建構中的設計
不論大小專案 只要在設計時 有通過深思熟慮 的精心設計 就可以從這份設計中 獲得利益
## 設計中的挑戰
 軟體設計意味著去構思 把規格轉化為可實際執行的軟體的方案
 ### 設計是一個險惡的問題
 險惡 的問題是指 只能透過去解決問題而發現問題的問題 ，例如書中 提到的大橋被風吹斷的問題， 工程師因為這個案例而發現要去考慮空氣動力學。
###  設計是個毫無章法的過程（ 即使他們產出清爽的成果）
設計的過程不會是一個 乾淨俐落組織良好的過程， 會透過不斷的試誤並修正 最後產出好的結果。 在設計的時候 犯錯會比 已經開始開發了才發現同樣的錯誤 所需的成本低很多。 那要設計到怎樣的程度才算是夠好了， 書中的答案是通常是 到你沒時間再做為止。

### 設計就是決定取捨和調整順序的過程
在理想中一套軟體應該會不消耗任何儲存空間 沒有任何錯誤 不使用任何網路頻寬， 但是這是不可能的， 一定會與某些條件的有所衝突， 設計就是決定根據你的需求去取捨與調整順序
### 設計會受到諸多限制
### 設計師不確定的
沒有統一的設計電腦的程式方法， 通常會 多達數10種
### 設計程序本質上是個啟發式的程序
最因為設計程是充滿不確定性 因此設計技術也像是啟發式的 根據經驗法則或是嘗試說不定可行的辦法
### 設計是自然而然形成的
設計不是說突然從誰的頭腦中直接蹦出來， 而是不斷的再設計評估、 非正式討論、 寫試驗程式碼及修改試驗程式碼中演化出來。
## 關鍵的設計概念
### 軟體的首要技術使命： 管理複雜度
* 如何處理複雜度問題
	* 讓任何人同一時間需要處理的複雜度減到最少
	* 不要讓附屬的複雜度無限制地增長
### 理想設計的特徵
* 下面列出特徵，能夠達成全部是最理想的，但是其中有相互競爭的條件，能做出一套折衷方案是最好的
* 最小的複雜度
	* 避免做出聰明到難以理解的設計。
	* 如果做出的方案無法讓你專注於程式的一小部分，則是沒什麼作用的方案
* 易於維護
	* 時時想著未來要維護這段 code 的人是否易於閱讀
* loose coupling
	* 透過類別中優良的抽象及封裝性及資訊隱藏來達成
* 可擴充性
	* 可更動某部分而不會影響其他部分
* 可重用性
* 高 fan-in
	* 大量類別使用某個特定的類別，表示設計出的系統善用了較低層次的「工具」
* 低 fan-out
	* 少量的類別在類別中使用其他類別，使用七個以上會被稱為高 fan-out
* 可移植性
	* 可以方便的移植到其他環境
* 精簡性
	* 縮減到不能再縮減就是好的
* 層次性
	* 意味著保持系統各層的層次性，在高層不需要去看低層的 code
* 標準技術
	* 依賴外在、奇怪的東西愈多別人就愈難理解，盡量使用標準化、常用的方法
### 設計的層次
軟體系統首先先被切割成子系統，子系統進一步分解成類別，類別在切分成子程式跟資料，最後是子程式內的設計
* 軟體系統
	* 設計整體系統時，有些人為直接思考類別，但是在這階段應該要先思考的是切分子系統
* 子系統或套件
	* 確認如何將程式拆分為多個子系統，並定義他們之間如何使用。如果每個子系統都能跟提他子系統通訊就失去了拆分的意義，應該要進行限制，讓子系統的存在更有意義
	* 切割的方法可以依照下面的方式思考
		* 一個開發人員需要理解多少系統中不同的部分才能在圖形子系統中進行修改?
		* 當你想在另一個子系統中試圖使用業務規則會發生甚麼事
		* 當你想在系統中加入一套新的使用者介面會發生什麼事
		* 當你想把資料儲存放在遠端機器上會發生甚麼事
	* 思考時可以想當你把子系統跟其連接的子系統切斷關係後，會需要多少工作量去處理，通常愈少事愈好。
	* 所以當子系統確實需要了解其他子系統時才將它們牽上關係事比較好的做法
* 分解為類別
	* 沒說什麼
* 分解成子程式
	* 可能在設計時會在這層以及類別那層來來回回重複思考怎麼設計比較好
* 子程式內部設計
	* 沒說什麼
## 設計構造塊，啟發式方法
* 對如何思考問題提出一些方法
### 找出現實世界中的物件
* 指的是物件導向的設計方法
* 設計的步驟為:
	* 辨識物件及其屬性，屬性代表 method 及 data
	* 確定可以對各個物件操作
	* 確定各個物件可以對其他物件操作
		* 指的是物件的包含及繼承的關係
	* 確定物件那些是 public 哪些是 private
	* 定義 public interface
### 形成一致的抽象
* 抽象指的是關注某一概念時能夠放心地忽略其細節
* 基底類別也是一種抽象，讓你知道其衍生類別的共同特性，並在基底類別層次上忽略他們的差異
* 一個好的介面能讓你專注於他的介面而非他的運作細節
* 好的程式設計是會在各種介面(子程式、類別、套件)上注意他們的抽象
### 封裝實作細節
### 繼承能簡化設計時就繼承
### 隱藏秘密(資訊隱藏)
* 資訊隱藏是減少重夫工作的技術
* 衍生出封裝及模組化的概念
	#### 隱私和秘密權
	* 當某段程式隱藏起來時，它引發的錯誤不會給其他部分的程式帶來太大的損失
	* 類別的介面應盡可能的不暴露內部的工作機制
	* 介面的設計是一個迭代的過程，會不斷地改進
	#### 


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTgyMjYxNTM5MCw1NzEwNjIwODIsLTU1OD
Y3MTU2LDU3OTIxNjk0OCwyMDE4MDg0MjQ3LDE2MTkyMTgyMTcs
MTM0MDYyMzAzMyw4NTcyMDk4OTIsLTQxMjA1NjQyOSwtMTY0NT
Q2MTA2OCw2NjA0NjM1ODldfQ==
-->